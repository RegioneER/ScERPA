@inject ScERPA.Services.Interfaces.ICommonServices commonServices
@model UserAdminViewModel

<partial name="_Esito" />

<div class="clearfix">
    <h1 class="float-start">@ViewData["Title"]</h1>
    <a class="btn float-end" role="button" asp-action="Index">Torna alla lista</a>
</div>

<br />
<div>
    <div class="neutral-2-bg">
        <h4>@Model.Cognome @Model.Nome</h4>
        <h5>@Model.Email</h5>
    </div>
    <hr />
    <h6>Lista Aree-Servizi-Finalità</h6>
    <br>
    <div class="table-responsive rounded shadow">
        <table id="TabellaUtentiDaAmministrare" name="TabellaUtentiDaAmministrare" class="table table-striped table-hover">
            <thead>
                <tr>
                    <th scope="col">Area</th>
                    <th scope="col">Servizio</th>
                    <th scope="col">Finalità</th>
                    <th scope="col">Elimina</th>
                </tr>
            </thead>
            @foreach (UserAdminAreaServiceFinalityListItem abilitazione in Model.Abilitazioni)
            {
                <tr>
                    <td>
                        @abilitazione.Area
                    </td>
                    <td>
                        @abilitazione.Servizio
                    </td>
                    <td>
                        @abilitazione.Finalita
                    </td>
                    
                    <td>
                        <a asp-area="Administration" asp-controller="UsersAdmin" asp-action="Delete" asp-route-UserId="@Model.UserId" asp-route-Purpouse="@abilitazione.Id" class="btn btn-outline-danger btn-me" role="button" aria-label="Elimina autorizzazione su finalità @(abilitazione.Finalita)">
                            <span>Elimina</span>
                        </a>
                    </td>
  
                </tr>
            }
            <tbody>
            </tbody>
        </table>
    </div>
</div>
<br />
<div>
    <a asp-action="Create" asp-route-UserId="@Model.UserId" class="btn btn-primary" role="button">
        <span>Aggiungi autorizzazione</span>
    </a>
</div>
