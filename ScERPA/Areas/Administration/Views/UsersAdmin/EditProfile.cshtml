@inject ScERPA.Services.Interfaces.ICommonServices commonServices
@model UserAminEditProfileViewModel
<div class="clearfix mt-3">
    <h1 class="float-start">@ViewData["Title"]</h1>
    <a class="btn float-end" role="button" asp-area="Administration" asp-controller="UsersAdmin" asp-action="IndexProfiles">Torna alla lista</a>
</div>
<br />
<hr />
<br>
<section name="dati_profilo_utente" class="lightgrey-bg-a3 rounded shadow py-3" aria-label="dati profilo utente">
    <em class="px-3">I campi con * sono obbligatori</em>
<br>
<br>
<div>
    <div class="neutral-2-bg px-3">
        <h4>@Model.Cognome @Model.Nome</h4>
        <h5>@Model.Email</h5>
    </div>
    <hr />
    <br>
</div>

    <form mtehod="post" asp-area="Administration" asp-controller="UsersAdmin" asp-action="EditProfile" asp-route-input="@Model.Input" class="col-md-4 px-3">
        <div asp-validation-summary="All" class="text-danger" role="alert"></div>
            <div class="form-group mt-4">
                <label asp-for="Input.UserId" class="active d-none">Id</label>
            <input asp-for="Input.UserId" class="form-control d-none" value="@Model.Input.UserId" aria-required="true" autocomplete="off" />
                <span asp-validation-for="Input.UserId" class="text-danger"></span>
            </div>
            <div class="row mt-4">
                <div col="col-1">
                    <div class="form-check form-check-group">
                        @Html.EditorFor(m => m.Input.Attivo)
                        <label asp-for="Input.Attivo" >Attivo</label>
                        <span asp-validation-for="Input.Attivo" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div col="col-1">
                    <div class="form-check form-check-group">
                        @Html.EditorFor(m => m.Input.TenantCorrenteAttivo)
                        <label asp-for="Input.TenantCorrenteAttivo">Abilitato su @(commonServices.TenantCorrente(commonServices.IdTenantCorrente)?.Nome)</label>
                        <span asp-validation-for="Input.TenantCorrenteAttivo" class="text-danger"></span>
                    </div>
                </div>
            </div>

            @switch (Model.RuoloAmministratore)
            {
                case "SUPERADMIN":
                    <partial name="_EditProfileRolesBySuperAdmin" Model="Model" />
                    break;
                case "ADMIN":
                    <partial name="_EditProfileRolesByAdmin" Model="Model" />
                    break;     
            }
   
            <div class="row mt-4">
                <div col="col-1">
                    <div class="form-check form-check-group">
                        @Html.EditorFor(m => m.Input.isConsumer)              
                        <label asp-for="Input.isConsumer">Profilo Consumer</label>
                        <span asp-validation-for="Input.isConsumer" class="text-danger"></span>
                        <small id="Input_isConsumer-help" class="form-text">L'utente Consumer è un utilizzatore di servizi</small>
                    </div>
                </div>
            </div>

            <div class="form-group mt-3">
                <button type="submit" class="btn btn-primary">Salva</button>
            </div>
        </form>

</section>
<script src='@(commonServices.JqueryBase + "/jquery.min.js")' asp-append-version="true"></script>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

}